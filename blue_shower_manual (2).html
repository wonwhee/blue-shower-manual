                    <!-- 라즈베리 파이 → L298N -->
                    <line x1="550" y1="300" x2="650" y2="170" stroke="#374151" stroke-width="3" marker-end="url(#arrowhead)"/>
                    <text x="590" y="220" font-size="10" fill="#374151" font-weight="bold">IN        <!-- 시스템 구조 다이어그램 -->
        <section id="diagram" class="section">
            <h2>📊 시스템 구조도</h2>
            
            <div class="alert alert-info">
                <span class="alert-icon">💡</span>
                <div>
                    <strong>시스템 동작 원리</strong><br>
                    발 버튼 → 라즈베리 파이 → 모터드라이버/릴레이 → 모터/밸브 순서로 신호가 전달됩니다.<br>
                    모든 장치의 GND(마이너스)는 공통으로 연결되어야 합니다.
                </div>
            </div>
            
            <div class="diagram-container">
                <svg width="1000" height="700" role="img" aria-label="Blue Shower 시스템 블록 다이어그램">
                    
                    <!-- 제목 -->
                    <text x="500" y="30" text-anchor="middle" font-size="20" font-weight="bold" fill="#2563eb">Blue Shower v1.0 시스템 구조도</text>
                    
                    <!-- 발 버튼 데크 (상단 왼쪽) -->
                    <rect x="50" y="80" width="200" height="120" fill="#dbeafe" stroke="#3b82f6" stroke-width="3" rx="10"/>
                    <text x="150" y="105" text-anchor="middle" font-size="14" font-weight="bold">🦶 발 버튼 데크</text>
                    <text x="80" y="125" font-size="10">좌측</text>
                    <text x="120" y="125" font-size="10">우측</text>
                    <text x="160" y="125" font-size="10">상향</text>
                    <text x="200" y="125" font-size="10">하향</text>
                    <text x="150" y="145" text-anchor="middle" font-size="11">물 ON/OFF</text>
                    <text x="150" y="165" text-anchor="middle" font-size="10">(5개 택트 스위치 납땜)</text>
                    <text x="150" y="180" text-anchor="middle" font-size="9">YouTube 영상 참고</text>
                    
                    <!-- 라즈베리 파이 (중앙) -->
                    <rect x="400" y="280" width="200" height="140" fill="#dcfce7" stroke="#16a34a" stroke-width="4" rx="10"/>
                    <text x="500" y="310" text-anchor="middle" font-size="16" font-weight="bold">🖥️ Raspberry Pi 4B</text>
                    <text x="500" y="330" text-anchor="middle" font-size="12">GPIO 제어 시스템</text>
                    <text x="500" y="350" text-anchor="middle" font-size="11">Python 프로그램 실행</text>
                    <text x="500" y="370" text-anchor="middle" font-size="11">5V USB-C 전원</text>
                    <text x="500" y="390" text-anchor="middle" font-size="12" font-weight="bold" fill="#dc2626">⚠️ 모든 GND 공통 연결 ⚠️</text>
                    
                    <!-- L298N 모터드라이버 (상단 오른쪽) -->
                    <rect x="750" y="80" width="200" height="120" fill="#fef3c7" stroke="#f59e0b" stroke-width="3" rx="10"/>
                    <text x="850" y="105" text-anchor="middle" font-size="14" font-weight="bold">⚙️ L298N 모터드라이버</text>
                    <text x="850" y="125" text-anchor="middle" font-size="11">IN1~IN4: GPIO 17,27,23,24</text>
                    <text x="850" y="140" text-anchor="middle" font-size="11">ENA/ENB: 점퍼 연결 (속도 고정)</text>
                    <text x="850" y="155" text-anchor="middle" font-size="11">12V 모터 전원</text>
                    <text x="850" y="170" text-anchor="middle" font-size="10" fill="#dc2626">GND 공통 연결 필수</text>
                    <text x="850" y="185" text-anchor="middle" font-size="9">8298N도 호환</text>
                    
                    <!-- 3.3V 릴레이 (하단 오른쪽) -->
                    <rect x="750" y="480" width="200" height="120" fill="#fef3c7" stroke="#f59e0b" stroke-width="3" rx="10"/>
                    <text x="850" y="505" text-anchor="middle" font-size="14" font-weight="bold">🔌 3.3V 릴레이</text>
                    <text x="850" y="525" text-anchor="middle" font-size="11">신호: GPIO 22</text>
                    <text x="850" y="540" text-anchor="middle" font-size="11">VCC: 3.3V (라즈베리 파이)</text>
                    <text x="850" y="555" text-anchor="middle" font-size="11">솔레노이드 스위칭</text>
                    <text x="850" y="570" text-anchor="middle" font-size="10" fill="#dc2626">GND 공통 연결 필수</text>
                    <text x="850" y="585" text-anchor="middle" font-size="9">5V 전용 릴레이는 작동 안 됨!</text>
                    
                    <!-- 좌우 모터 (왼쪽 상단) -->
                    <rect x="50" y="280" width="160" height="80" fill="#fee2e2" stroke="#dc2626" stroke-width="3" rx="10"/>
                    <text x="130" y="305" text-anchor="middle" font-size="12" font-weight="bold">🔄 좌우 모터 (Motor A)</text>
                    <text x="130" y="325" text-anchor="middle" font-size="11">DC 12V 기어드 모터</text>
                    <text x="130" y="340" text-anchor="middle" font-size="10">IN1/IN2 제어</text>
                    <text x="130" y="355" text-anchor="middle" font-size="9">헤드 좌↔우 이동</text>
                    
                    <!-- 상하 모터 (왼쪽 하단) -->
                    <rect x="50" y="380" width="160" height="80" fill="#fee2e2" stroke="#dc2626" stroke-width="3" rx="10"/>
                    <text x="130" y="405" text-anchor="middle" font-size="12" font-weight="bold">🔄 상하 모터 (Motor B)</text>
                    <text x="130" y="425" text-anchor="middle" font-size="11">DC 12V 기어드 모터</text>
                    <text x="130" y="440" text-anchor="middle" font-size="10">IN3/IN4 제어</text>
                    <text x="130" y="455" text-anchor="middle" font-size="9">헤드 상↕하 이동</text>
                    
                    <!-- 솔레노이드 밸브 (왼쪽 최하단) -->
                    <rect x="50" y="480" width="160" height="80" fill="#e0e7ff" stroke="#6366f1" stroke-width="3" rx="10"/>
                    <text x="130" y="505" text-anchor="middle" font-size="12" font-weight="bold">🌊 솔레노이드 밸브</text>
                    <text x="130" y="525" text-anchor="middle" font-size="11">12V (파워서플라이)</text>
                    <text x="130" y="540" text-anchor="middle" font-size="10">물 ON/OFF 토글</text>
                    <text x="130" y="555" text-anchor="middle" font-size="9">릴레이로 제어</text>
                    
                    <!-- 12V 파워서플라이 (하단 중앙) -->
                    <rect x="400" y="500" width="200" height="100" fill="#f3f4f6" stroke="#6b7280" stroke-width="3" rx="10"/>
                    <text x="500" y="525" text-anchor="middle" font-size="14" font-weight="bold">🔋 12V 파워서플라이</text>
                    <text x="500" y="545" text-anchor="middle" font-size="11">12V 3A 이상 권장</text>
                    <text x="500" y="560" text-anchor="middle" font-size="11">모터 2개 + 솔레노이드 전원</text>
                    <text x="500" y="575" text-anchor="middle" font-size="10" font-weight="bold" fill="#dc2626">⚠️ 모든 GND(-) 공통 연결 ⚠️</text>
                    <text x="500" y="590" text-anchor="middle" font-size="9">라즈베리 파이는 별도 5V USB-C</text>
                    
                    <!-- 연결선들 -->
                    <!-- 버튼 → 라즈베리파이 -->
                    <path d="M 250 140 Q 320 210 400 320" stroke="#374151" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
                    <text x="310" y="200" font-size="11" fill="#374151" font-weight="bold">GPIO 5,6,13,19,26</text>
                    <text x="310" y="215" font-size="9" fill="#374151">(내부 풀업 저항)</text>
                    
                    <!-- 라즈베리파이 → L298N -->
                    <path d="M 600 320 Q 670 250 750 140" stroke="#374151" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
                    <text x="650" y="220" font-size="11" fill="#374151" font-weight="bold">IN1~4 제어</text>
                    <text x="650" y="235" font-size="9" fill="#374151">GPIO 17,27,23,24</text>
                    
                    <!-- 라즈베리파이 → 릴레이 -->
                    <path d="M 600 360 Q 670 420 750 540" stroke="#374151" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
                    <text x="650" y="450" font-size="11" fill="#374151" font-weight="bold">GPIO 22</text>
                    <text x="650" y="465" font-size="9" fill="#374151">3.3V 신호</text>
                    
                    <!-- L298N → 모터들 -->
                    <path d="M 750 120 Q 650 200 210 320" stroke="#dc2626" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
                    <path d="M 750 160 Q 650 250 210 420" stroke="#dc2626" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
                    <text x="400" y="250" font-size="10" fill="#dc2626" font-weight="bold">12V 모터 전원</text>
                    
                    <!-- 릴레이 → 솔레노이드 -->
                    <path d="M 750 540 Q 650 540 210 520" stroke="#6366f1" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
                    <text x="400" y="530" font-size="10" fill="#6366f1" font-weight="bold">12V 밸브 전원</text>
                    
                    <!-- 파워서플라이 연결선들 -->
                    <line x1="500" y1="500" x2="850" y2="200" stroke="#ef4444" stroke-width="2" stroke-dasharray="5,5"/>
                    <line x1="500" y1="500" x2="850" y2="580" stroke="#ef4444" stroke-width="2" stroke-dasharray="5,5"/>
                    <line x1="400" y1="550" x2="210" y2="320" stroke="#ef4444" stroke-width="2" stroke-dasharray="5,5"/>
                    <line x1="400" y1="550" x2="210" y2="420" stroke="#ef4444" stroke-width="2" stroke-dasharray="5,5"/>
                    <line x1="400" y1="550" x2="210" y2="520" stroke="#ef4444" stroke-width="2" stroke-dasharray="5,5"/>
                    
                    <!-- GND 공통 표시 -->
                    <rect x="300" y="630" width="400" height="50" fill="#ef4444" stroke="#dc2626" stroke-width="3" rx="10"/>
                    <text x="500" y="660" text-anchor="middle" font-size="16" font-weight="bold" fill="white">⚡ 중요: 모든 장치의 GND(-)를 하나로 연결! ⚡</text>
                    
                    <!-- 화살표 마커 정의 -->
                    <defs>
                        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="#374151"/>
                        </marker>
                    </defs>
                </svg>
            </div>
            
            <h3>🔧 시스템 연결 요약</h3>
            <div class="card-grid">
                <div class="card">
                    <h4>🔘 입력부</h4>
                    <ul>
                        <li><strong>발 버튼 5개:</strong> 택트 스위치 납땜 제작</li>
                        <li><strong>연결:</strong> GPIO 5,6,13,19,26 + GND</li>
                        <li><strong>방식:</strong> 내부 풀업, 눌렀을 때 LOW</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h4>🖥️ 제어부</h4>
                    <ul>
                        <li><strong>라즈베리 파이 4B:</strong> 메인 컨트롤러</li>
                        <li><strong>전원:</strong> 5V 3A USB-C 어댑터</li>
                        <li><strong>역할:</strong> 버튼 입력 → 모터/밸브 제어</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h4>⚙️ 출력부</h4>
                    <ul>
                        <li><strong>L298N:</strong> 12V 모터 2개 제어</li>
                        <li><strong>3.3V 릴레이:</strong> 솔레노이드 밸브 제어</li>
                        <li><strong>전원:</strong> 12V 3A 파워서플라이</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h4>⚡ 전원 시스템</h4>
                    <ul>
                        <li><strong>12V 파워서플라이:</strong> 모터 + 밸브</li>
                        <li><strong>5V USB-C:</strong> 라즈베리 파이 전용</li>
                        <li><strong>필수:</strong> 모든 GND(-) 공통 연결</li>
                    </ul>
                </div>
            </div><!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blue Shower v1.0 제작 매뉴얼</title>
    <style>
        /* 시스템 폰트 스택 */
        * {
            box-sizing: border-box;
        }

        :root {
            --primary-color: #2563eb;
            --bg-color: #ffffff;
            --text-color: #1f2937;
            --border-color: #e5e7eb;
            --code-bg: #f3f4f6;
            --warning-bg: #fef3c7;
            --warning-border: #f59e0b;
            --success-bg: #dcfce7;
            --success-border: #16a34a;
            --info-bg: #dbeafe;
            --info-border: #3b82f6;
            --font-size: 16px;
        }

        [data-theme="dark"] {
            --bg-color: #1f2937;
            --text-color: #f9fafb;
            --border-color: #374151;
            --code-bg: #374151;
            --warning-bg: #78350f;
            --success-bg: #14532d;
            --info-bg: #1e3a8a;
        }

        [data-contrast="high"] {
            --primary-color: #000000;
            --text-color: #000000;
            --bg-color: #ffffff;
            --border-color: #000000;
        }

        [data-theme="dark"][data-contrast="high"] {
            --primary-color: #ffffff;
            --text-color: #ffffff;
            --bg-color: #000000;
            --border-color: #ffffff;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Apple SD Gothic Neo", "Noto Sans KR", sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            color: var(--text-color);
            font-size: var(--font-size);
            transition: all 0.3s ease;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* 헤더 및 네비게이션 */
        .header {
            background-color: var(--primary-color);
            color: white;
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
        }

        .controls {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .btn {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s ease;
        }

        .btn:hover, .btn:focus {
            background: rgba(255, 255, 255, 0.3);
            outline: 2px solid white;
            outline-offset: 2px;
        }

        /* 목차 */
        .toc {
            background: var(--info-bg);
            border: 2px solid var(--info-border);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 2rem 0;
        }

        .toc h2 {
            margin-top: 0;
            color: var(--info-border);
        }

        .toc-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 0.5rem;
        }

        .toc a {
            color: var(--text-color);
            text-decoration: none;
            padding: 0.5rem;
            border-radius: 4px;
            transition: all 0.2s ease;
            display: block;
        }

        .toc a:hover, .toc a:focus {
            background: var(--primary-color);
            color: white;
            outline: 2px solid var(--primary-color);
        }

        /* 검색 */
        .search-container {
            margin: 1rem 0;
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-size: 1rem;
            background: var(--bg-color);
            color: var(--text-color);
        }

        .search-input:focus {
            outline: 2px solid var(--primary-color);
            border-color: var(--primary-color);
        }

        /* Hero 섹션 */
        .hero {
            text-align: center;
            padding: 3rem 0;
            background: linear-gradient(135deg, var(--info-bg), var(--success-bg));
            margin: 2rem 0;
            border-radius: 12px;
        }

        .hero h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: var(--primary-color);
        }

        .hero-subtitle {
            font-size: 1.25rem;
            margin-bottom: 2rem;
            color: var(--text-color);
        }

        .badges {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .badge {
            background: var(--warning-bg);
            color: var(--warning-border);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
            border: 2px solid var(--warning-border);
        }

        /* 섹션 */
        .section {
            margin: 3rem 0;
            scroll-margin-top: 80px;
        }

        .section h2 {
            font-size: 2rem;
            color: var(--primary-color);
            border-bottom: 3px solid var(--primary-color);
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .section h3 {
            font-size: 1.5rem;
            color: var(--text-color);
            margin-top: 2rem;
        }

        /* 카드 */
        .card {
            background: var(--bg-color);
            border: 2px solid var(--border-color);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1rem 0;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
        }

        /* 테이블 */
        .table-container {
            overflow-x: auto;
            margin: 1rem 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        th, td {
            padding: 0.75rem;
            text-align: left;
            border: 1px solid var(--border-color);
        }

        th {
            background: var(--primary-color);
            color: white;
            font-weight: bold;
        }

        tr:nth-child(even) {
            background: var(--code-bg);
        }

        /* 코드 블록 */
        .code-block {
            background: var(--code-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            position: relative;
            overflow-x: auto;
        }

        .code-block code {
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9rem;
        }

        .copy-btn {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8rem;
        }

        /* 경고박스 */
        .alert {
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
            border-left: 4px solid;
            display: flex;
            align-items: flex-start;
            gap: 0.5rem;
        }

        .alert-warning {
            background: var(--warning-bg);
            border-left-color: var(--warning-border);
            color: #92400e;
        }

        .alert-success {
            background: var(--success-bg);
            border-left-color: var(--success-border);
            color: #166534;
        }

        .alert-info {
            background: var(--info-bg);
            border-left-color: var(--info-border);
            color: #1e40af;
        }

        .alert-icon {
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        /* 체크리스트 */
        .checklist {
            list-style: none;
            padding: 0;
        }

        .checklist li {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem;
            margin: 0.25rem 0;
            background: var(--code-bg);
            border-radius: 4px;
        }

        .checklist input[type="checkbox"] {
            width: 1.2rem;
            height: 1.2rem;
            cursor: pointer;
        }

        /* FAQ (접이식) */
        .faq-item {
            border: 1px solid var(--border-color);
            border-radius: 8px;
            margin: 0.5rem 0;
        }

        .faq-question {
            background: var(--code-bg);
            padding: 1rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: bold;
        }

        .faq-question:hover {
            background: var(--border-color);
        }

        .faq-answer {
            padding: 1rem;
            display: none;
            border-top: 1px solid var(--border-color);
        }

        .faq-answer.active {
            display: block;
        }

        .faq-toggle {
            font-size: 1.5rem;
            transition: transform 0.3s ease;
        }

        .faq-toggle.active {
            transform: rotate(180deg);
        }

        /* 다운로드 버튼 */
        .download-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }

        .download-btn {
            background: var(--success-bg);
            border: 2px solid var(--success-border);
            color: var(--success-border);
            padding: 1rem;
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
            transition: all 0.2s ease;
            font-weight: bold;
        }

        .download-btn:hover, .download-btn:focus {
            background: var(--success-border);
            color: white;
            outline: 2px solid var(--success-border);
            outline-offset: 2px;
        }

        /* SVG 다이어그램 */
        .diagram-container {
            display: flex;
            justify-content: center;
            margin: 2rem 0;
            padding: 1rem;
            background: var(--code-bg);
            border-radius: 8px;
        }

        /* 반응형 */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2rem;
            }
            
            .hero-subtitle {
                font-size: 1rem;
            }
            
            .header-content {
                flex-direction: column;
                text-align: center;
            }
            
            .controls {
                justify-content: center;
            }
            
            .toc-grid {
                grid-template-columns: 1fr;
            }
        }

        /* 인쇄 스타일 */
        @media print {
            * {
                background: white !important;
                color: black !important;
                box-shadow: none !important;
            }
            
            .header, .controls, .search-container {
                display: none !important;
            }
            
            .section {
                page-break-inside: avoid;
                margin: 1rem 0;
            }
            
            .card {
                border: 1px solid black;
                margin: 0.5rem 0;
            }
            
            @page {
                margin: 15mm;
            }
        }

        /* 스무스 스크롤 */
        html {
            scroll-behavior: smooth;
        }

        /* 포커스 스타일 */
        *:focus {
            outline: 2px solid var(--primary-color);
            outline-offset: 2px;
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">Blue Shower v1.0 매뉴얼</div>
                <div class="controls">
                    <button class="btn" onclick="toggleTheme()">🌓 다크모드</button>
                    <button class="btn" onclick="toggleContrast()">🔲 고대비</button>
                    <button class="btn" onclick="changeFontSize(-2)">🔤- 작게</button>
                    <button class="btn" onclick="changeFontSize(2)">🔤+ 크게</button>
                    <button class="btn" onclick="window.print()">🖨️ 인쇄</button>
                </div>
            </div>
        </div>
    </header>

    <main class="container">
        <!-- 검색 -->
        <div class="search-container">
            <input type="text" class="search-input" placeholder="🔍 매뉴얼 내용 검색..." oninput="searchContent(this.value)">
        </div>

        <!-- Hero 섹션 -->
        <section class="hero">
            <h1>Blue Shower v1.0</h1>
            <p class="hero-subtitle">발 버튼으로 헤드 좌/우·상/하 + 물 ON/OFF 제어하는 보조기기</p>
            <div class="badges">
                <span class="badge" style="background: var(--success-bg); color: var(--success-border); border-color: var(--success-border);">쉬운 조립</span>
                <span class="badge" style="background: var(--success-bg); color: var(--success-border); border-color: var(--success-border);">발로 간편 제어</span>
                <span class="badge" style="background: var(--success-bg); color: var(--success-border); border-color: var(--success-border);">3D 프린트 DIY</span>
                <span class="badge" style="background: var(--success-bg); color: var(--success-border); border-color: var(--success-border);">오픈소스</span>
                <span class="badge" style="background: var(--success-bg); color: var(--success-border); border-color: var(--success-border);">누구나 제작 가능</span>
                <span class="badge" style="background: var(--success-bg); color: var(--success-border); border-color: var(--success-border);">자유로운 커스터마이징</span>
            </div>
        </section>

        <!-- 목차 -->
        <section class="toc">
            <h2>📋 목차</h2>
            <nav class="toc-grid" role="navigation" aria-label="페이지 목차">
                <a href="#quick-start">⚡ 빠른 시작</a>
                <a href="#materials">📦 준비물</a>
                <a href="#printing">🖨️ 3D 프린트</a>
                <a href="#assembly">🔧 조립</a>
                <a href="#wiring">⚡ 배선</a>
                <a href="#software">💻 소프트웨어</a>
                <a href="#testing">✅ 동작 점검</a>
                <a href="#troubleshooting">🔧 문제 해결</a>
                <a href="#safety">⚠️ 안전 고지</a>
                <a href="#downloads">📁 제출물</a>
                <a href="#license">📄 라이선스</a>
            </nav>
        </section>

        <!-- 빠른 시작 -->
        <section id="quick-start" class="section">
            <h2>⚡ 빠른 시작 (5단계)</h2>
            <div class="card-grid">
                <div class="card">
                    <h3>1️⃣ 프린트</h3>
                    <p>3D 프린터로 밑받침대, 모터 브래킷, 레일 브래킷을 출력합니다.</p>
                </div>
                <div class="card">
                    <h3>2️⃣ 조립</h3>
                    <p>선형 레일 → 헤드 → 밸브 → 버튼 순서로 조립합니다.</p>
                </div>
                <div class="card">
                    <h3>3️⃣ 배선</h3>
                    <p>라즈베리 파이와 L298N, 솔레노이드를 연결합니다. 모든 GND를 공통으로 연결하세요.</p>
                </div>
                <div class="card">
                    <h3>4️⃣ 실행</h3>
                    <p>파이썬 스크립트를 실행하여 동작을 확인합니다.</p>
                </div>
                <div class="card">
                    <h3>5️⃣ 점검</h3>
                    <p>각 버튼의 반응과 모터, 밸브 동작을 테스트합니다.</p>
                </div>
            </div>
        </section>

        <!-- 준비물 -->
        <section id="materials" class="section">
            <h2>📦 준비물</h2>
            
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>분류</th>
                            <th>품목</th>
                            <th>수량</th>
                            <th>비고</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td rowspan="6">전자부품</td>
                            <td>Raspberry Pi 4B</td>
                            <td>1개</td>
                            <td>4GB RAM 이상 권장</td>
                        </tr>
                        <tr>
                            <td>L298N 모터 드라이버</td>
                            <td>1개</td>
                            <td>8298N도 호환</td>
                        </tr>
                        <tr>
                            <td>DC 기어드 모터 12V</td>
                            <td>2개</td>
                            <td>좌우용, 상하용</td>
                        </tr>
                        <tr>
                            <td>솔레노이드 밸브</td>
                            <td>1개</td>
                            <td>12V/24V, 3.3V 트리거 릴레이 필요</td>
                        </tr>
                        <tr>
                            <td>소형 택트 버튼</td>
                            <td>5개</td>
                            <td>좌/우/상/하/물 제어용</td>
                        </tr>
                        <tr>
                            <td>릴레이 모듈</td>
                            <td>1개</td>
                            <td>3.3V 트리거 지원</td>
                        </tr>
                        <tr>
                            <td rowspan="6">납땜/배선 도구</td>
                            <td>납땜 인두</td>
                            <td>1개</td>
                            <td>30-40W 권장</td>
                        </tr>
                        <tr>
                            <td>납땜 인두기 받침대</td>
                            <td>1개</td>
                            <td>안전한 작업을 위해 필수</td>
                        </tr>
                        <tr>
                            <td>납 (솔더)</td>
                            <td>1롤</td>
                            <td>0.6-0.8mm 두께</td>
                        </tr>
                        <tr>
                            <td>점퍼 와이어</td>
                            <td>1세트</td>
                            <td>수-수, 수-암 연결선</td>
                        </tr>
                        <tr>
                            <td>멀티미터</td>
                            <td>1개</td>
                            <td>전압/연결 확인용</td>
                        </tr>
                        <tr>
                            <td>전선 스트리퍼</td>
                            <td>1개</td>
                            <td>전선 피복 제거용</td>
                        </tr>
                        <tr>
                            <td rowspan="2">기구부품</td>
                            <td>선형 레일 400mm</td>
                            <td>2개</td>
                            <td>좌우용 1개, 상하용 1개</td>
                        </tr>
                        <tr>
                            <td>볼트/너트 세트</td>
                            <td>1세트</td>
                            <td>M3 (3mm), M4 (4mm) 규격</td>
                        </tr>
                        <tr>
                            <td rowspan="2">배관</td>
                            <td>호스 (내경 6mm)</td>
                            <td>2m</td>
                            <td>입수용, 출수용</td>
                        </tr>
                        <tr>
                            <td>호스 연결구</td>
                            <td>4개</td>
                            <td>밸브 연결용</td>
                        </tr>
                        <tr>
                            <td rowspan="4">3D 프린트</td>
                            <td>버튼 데크</td>
                            <td>1개</td>
                            <td>발로 누를 수 있는 큰 버튼 케이스</td>
                        </tr>
                        <tr>
                            <td>밑받침대</td>
                            <td>1개</td>
                            <td>PLA, 30% 인필</td>
                        </tr>
                        <tr>
                            <td>모터 듀얼 브래킷</td>
                            <td>1개</td>
                            <td>PLA, 40% 인필 권장</td>
                        </tr>
                        <tr>
                            <td>레일 연결 브래킷</td>
                            <td>2개</td>
                            <td>PLA, 30% 인필</td>
                        </tr>
                        <tr>
                            <td rowspan="3">공구</td>
                            <td>육각렌치 세트</td>
                            <td>1세트</td>
                            <td>볼트 체결용</td>
                        </tr>
                        <tr>
                            <td>십자/일자 드라이버</td>
                            <td>각 1개</td>
                            <td>나사 체결용</td>
                        </tr>
                        <tr>
                            <td>니퍼</td>
                            <td>1개</td>
                            <td>전선 절단용</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="alert alert-info">
                <span class="alert-icon">📹</span>
                <div>
                    <strong>참고 영상</strong><br>
                    버튼 제작 과정은 다음 영상을 참고하세요:<br>
                    <strong>YouTube: 발 버튼 DIY 제작법</strong> (https://youtu.be/RYcLMILL-yw)<br>
                    (링크는 별도 창에서 확인하세요)
                </div>
            </div>
        </section>

        <!-- 3D 프린트 가이드 -->
        <section id="printing" class="section">
            <h2>🖨️ 3D 프린트 가이드</h2>
            
            <div class="alert alert-info">
                <span class="alert-icon">💡</span>
                <div>
                    <strong>추천 프린터 설정</strong><br>
                    노즐: 0.4mm / 레이어: 0.2mm / 인필: 30% (모터 브래킷은 40% 이상 권장)
                </div>
            </div>

            <h3>프린트 파일 목록</h3>
            <div class="card-grid">
                <div class="card">
                    <h4>🔘 버튼 데크 (외부)</h4>
                    <p>버튼 데크 (외부 3D 파일, 별도 제출)</p>
                    <div class="alert alert-warning">
                        <span class="alert-icon">⚠️</span>
                        <div>외부 제공 파일로 별도 제출됩니다.</div>
                    </div>
                </div>
                <div class="card">
                    <h4>🏗️ 밑받침대</h4>
                    <p>전체 시스템을 지지하는 기본 베이스</p>
                    <ul>
                        <li>인필: 30%</li>
                        <li>서포트: 필요시만</li>
                        <li>배치: 평면이 바닥에 닿도록</li>
                    </ul>
                </div>
                <div class="card">
                    <h4>⚙️ 모터 듀얼 브래킷</h4>
                    <p>좌우, 상하 모터를 동시에 고정</p>
                    <ul>
                        <li>인필: 40% 이상 (강도 중요)</li>
                        <li>서포트: 필수</li>
                        <li>배치: 구멍이 위로 오도록</li>
                    </ul>
                </div>
                <div class="card">
                    <h4>🔘 발 버튼 제작</h4>
                    <p>발로 쉽게 누를 수 있는 큰 버튼 데크 제작</p>
                    <ul>
                        <li>3D 프린트: 버튼 하우징 + 덮개</li>
                        <li>내부 구조: 소형 택트 스위치 5개</li>
                        <li>배치: 좌/우/상/하/물 버튼 구분</li>
                        <li>케이블: 각 버튼마다 2선 연결</li>
                    </ul>
                    <div class="alert alert-info">
                        <span class="alert-icon">📹</span>
                        <div>YouTube 영상 참조하여 버튼 내부 배선을 완료하세요</div>
                    </div>
                </div>
            </div>

            <div class="alert alert-success">
                <span class="alert-icon">✅</span>
                <div>
                    <strong>프린트 성공 팁</strong><br>
                    • 첫 레이어 높이를 정확히 조절하세요<br>
                    • 모터 브래킷은 강도가 중요하므로 인필을 높여주세요<br>
                    • 서포트 제거 후 구멍 크기를 확인하세요
                </div>
            </div>
        </section>

        <!-- 버튼 제작 가이드 -->
        <section id="button-making" class="section">
            <h2>🔘 발 버튼 제작 가이드</h2>
            
            <div class="alert alert-info">
                <span class="alert-icon">📹</span>
                <div>
                    <strong>필수 시청 영상</strong><br>
                    YouTube: "발 버튼 DIY 제작법" (https://youtu.be/RYcLMILL-yw)<br>
                    이 영상을 먼저 보시고 아래 단계를 따라해주세요.
                </div>
            </div>

            <h3>🏗️ 버튼 하우징 제작</h3>
            <div class="card-grid">
                <div class="card">
                    <h4>1️⃣ 3D 프린트 준비</h4>
                    <ul class="checklist">
                        <li><input type="checkbox"> 버튼 데크 상부 (발판) 프린트</li>
                        <li><input type="checkbox"> 버튼 데크 하부 (전자부품 수납) 프린트</li>
                        <li><input type="checkbox"> 버튼 구분용 칸막이 프린트</li>
                        <li><input type="checkbox"> 프린트 후 사포로 표면 다듬기</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h4>2️⃣ 택트 스위치 배치</h4>
                    <ul class="checklist">
                        <li><input type="checkbox"> 5개 택트 스위치를 버튼 위치에 배치</li>
                        <li><input type="checkbox"> 각 버튼별 라벨 부착 (좌/우/상/하/물)</li>
                        <li><input type="checkbox"> 스위치가 흔들리지 않도록 고정</li>
                        <li><input type="checkbox"> 누를 때 적절한 압력이 전달되는지 확인</li>
                    </ul>
                </div>
            </div>

            <h3>🔌 납땜 작업</h3>
            <div class="alert alert-warning">
                <span class="alert-icon">⚠️</span>
                <div>
                    <strong>납땜 안전 수칙</strong><br>
                    • 환기가 잘 되는 곳에서 작업하세요<br>
                    • 납땜 인두는 받침대에 올려두세요<br>
                    • 작업 후 손을 깨끗이 씻으세요<br>
                    • 화상 주의! 뜨거운 인두 끝을 만지지 마세요
                </div>
            </div>

            <div class="card-grid">
                <div class="card">
                    <h4>3️⃣ 전선 준비</h4>
                    <ul class="checklist">
                        <li><input type="checkbox"> 전선을 적절한 길이로 자르기 (각 버튼당 2개씩, 총 10개)</li>
                        <li><input type="checkbox"> 전선 끝부분 피복 제거 (약 5mm)</li>
                        <li><input type="checkbox"> 선 색상 구분 (빨간색: 신호선, 검은색: GND)</li>
                        <li><input type="checkbox"> 전선 끝을 약간 비틀어서 정리</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h4>4️⃣ 납땜 실행</h4>
                    <ul class="checklist">
                        <li><input type="checkbox"> 납땜 인두를 충분히 가열 (약 350°C)</li>
                        <li><input type="checkbox"> 택트 스위치 다리에 전선 납땜</li>
                        <li><input type="checkbox"> 각 스위치의 한쪽은 신호선, 다른 쪽은 GND</li>
                        <li><input type="checkbox"> 납땜 부위가 깔끔하게 연결되었는지 확인</li>
                        <li><input type="checkbox"> 절연 테이프로 납땜 부위 보호</li>
                    </ul>
                    <div class="alert alert-success">
                        <span class="alert-icon">💡</span>
                        <div><strong>팁:</strong> 납땜이 처음이라면 연습용 부품으로 먼저 연습해보세요!</div>
                    </div>
                </div>
            </div>

            <h3>🔧 버튼 조립 완성</h3>
            <div class="card">
                <h4>5️⃣ 최종 조립</h4>
                <ul class="checklist">
                    <li><input type="checkbox"> 납땜 완료된 스위치를 버튼 데크에 설치</li>
                    <li><input type="checkbox"> 전선을 깔끔하게 정리하고 케이블타이로 묶기</li>
                    <li><input type="checkbox"> 상부와 하부 케이스 체결</li>
                    <li><input type="checkbox"> 각 버튼이 정상적으로 눌리는지 확인</li>
                    <li><input type="checkbox"> 멀티미터로 스위치 연결 상태 확인</li>
                </ul>
            </div>

            <div class="code-block">
                <button class="copy-btn" onclick="copyToClipboard(this)">복사</button>
                <code># 버튼 연결 테스트 (멀티미터 사용)
# 1. 멀티미터를 연속성(Continuity) 모드로 설정
# 2. 버튼을 누르지 않은 상태: 무한대(∞) 또는 OL 표시
# 3. 버튼을 누른 상태: 0Ω 또는 비프음
# 4. 모든 버튼에서 이 패턴이 나오면 정상</code>
            </div>
        </section>
        <section id="diagram" class="section">
            <h2>📊 시스템 구조</h2>
            <div class="diagram-container">
                <svg width="800" height="500" role="img" aria-label="Blue Shower 시스템 블록 다이어그램: 버튼에서 라즈베리 파이로, 라즈베리 파이에서 L298N 모터드라이버와 릴레이로, 각각 모터와 솔레노이드로 연결되는 구조">
                    <!-- 버튼 블록 -->
                    <rect x="50" y="50" width="120" height="80" fill="#dbeafe" stroke="#3b82f6" stroke-width="2" rx="5"/>
                    <text x="110" y="85" text-anchor="middle" font-size="12" font-weight="bold">버튼 5개</text>
                    <text x="110" y="100" text-anchor="middle" font-size="10">(소형 택트)</text>
                    <text x="110" y="115" text-anchor="middle" font-size="9">좌/우/상/하/물</text>
                    
                    <!-- 라즈베리 파이 -->
                    <rect x="300" y="200" width="140" height="100" fill="#dcfce7" stroke="#16a34a" stroke-width="3" rx="5"/>
                    <text x="370" y="235" text-anchor="middle" font-size="14" font-weight="bold">Raspberry Pi</text>
                    <text x="370" y="250" text-anchor="middle" font-size="11">GPIO 제어</text>
                    <text x="370" y="265" text-anchor="middle" font-size="10">Python 스크립트</text>
                    <text x="370" y="285" text-anchor="middle" font-size="10">5V 전원</text>
                    
                    <!-- L298N 모터드라이버 -->
                    <rect x="550" y="100" width="120" height="80" fill="#fef3c7" stroke="#f59e0b" stroke-width="2" rx="5"/>
                    <text x="610" y="130" text-anchor="middle" font-size="12" font-weight="bold">L298N</text>
                    <text x="610" y="145" text-anchor="middle" font-size="10">모터드라이버</text>
                    <text x="610" y="165" text-anchor="middle" font-size="9">IN1~4</text>
                    
                    <!-- 릴레이/MOSFET -->
                    <rect x="550" y="300" width="120" height="80" fill="#fef3c7" stroke="#f59e0b" stroke-width="2" rx="5"/>
                    <text x="610" y="330" text-anchor="middle" font-size="12" font-weight="bold">Relay</text>
                    <text x="610" y="345" text-anchor="middle" font-size="10">/ MOSFET</text>
                    <text x="610" y="365" text-anchor="middle" font-size="9">3.3V 트리거</text>
                    
                    <!-- 모터 A (좌우) -->
                    <rect x="720" y="50" width="100" height="60" fill="#fee2e2" stroke="#dc2626" stroke-width="2" rx="5"/>
                    <text x="770" y="75" text-anchor="middle" font-size="11" font-weight="bold">Motor A</text>
                    <text x="770" y="90" text-anchor="middle" font-size="9">좌/우 이동</text>
                    
                    <!-- 모터 B (상하) -->
                    <rect x="720" y="130" width="100" height="60" fill="#fee2e2" stroke="#dc2626" stroke-width="2" rx="5"/>
                    <text x="770" y="155" text-anchor="middle" font-size="11" font-weight="bold">Motor B</text>
                    <text x="770" y="170" text-anchor="middle" font-size="9">상/하 이동</text>
                    
                    <!-- 솔레노이드 밸브 -->
                    <rect x="720" y="300" width="100" height="60" fill="#e0e7ff" stroke="#6366f1" stroke-width="2" rx="5"/>
                    <text x="770" y="325" text-anchor="middle" font-size="11" font-weight="bold">Solenoid</text>
                    <text x="770" y="340" text-anchor="middle" font-size="9">밸브 ON/OFF</text>
                    
                    <!-- 전원부 -->
                    <rect x="50" y="400" width="200" height="80" fill="#f3f4f6" stroke="#6b7280" stroke-width="2" rx="5"/>
                    <text x="150" y="430" text-anchor="middle" font-size="12" font-weight="bold">전원부</text>
                    <text x="150" y="445" text-anchor="middle" font-size="10">12V/24V (모터·밸브)</text>
                    <text x="150" y="460" text-anchor="middle" font-size="10">5V (라즈베리 파이)</text>
                    
                    <!-- GND 공통 표시 -->
                    <rect x="350" y="400" width="200" height="50" fill="#ef4444" stroke="#dc2626" stroke-width="3" rx="5"/>
                    <text x="450" y="430" text-anchor="middle" font-size="14" font-weight="bold" fill="white">⚠️ 모든 GND 공통 ⚠️</text>
                    
                    <!-- 화살표들 -->
                    <!-- 버튼 → 라즈베리파이 -->
                    <line x1="170" y1="90" x2="280" y2="220" stroke="#374151" stroke-width="2" marker-end="url(#arrowhead)"/>
                    <text x="220" y="150" font-size="9" fill="#374151">GPIO 입력</text>
                    
                    <!-- 라즈베리파이 → L298N -->
                    <line x1="440" y1="230" x2="530" y2="140" stroke="#374151" stroke-width="2" marker-end="url(#arrowhead)"/>
                    <text x="480" y="180" font-size="9" fill="#374151">IN1~4</text>
                    
                    <!-- 라즈베리파이 → 릴레이 -->
                    <line x1="440" y1="270" x2="530" y2="340" stroke="#374151" stroke-width="2" marker-end="url(#arrowhead)"/>
                    <text x="480" y="310" font-size="9" fill="#374151">GPIO22</text>
                    
                    <!-- L298N → 모터들 -->
                    <line x1="670" y1="120" x2="700" y2="80" stroke="#374151" stroke-width="2" marker-end="url(#arrowhead)"/>
                    <line x1="670" y1="160" x2="700" y2="160" stroke="#374151" stroke-width="2" marker-end="url(#arrowhead)"/>
                    
                    <!-- 릴레이 → 솔레노이드 -->
                    <line x1="670" y1="340" x2="700" y2="330" stroke="#374151" stroke-width="2" marker-end="url(#arrowhead)"/>
                    
                    <!-- 전원 연결선들 -->
                    <line x1="150" y1="400" x2="370" y2="320" stroke="#ef4444" stroke-width="2" stroke-dasharray="5,5"/>
                    <line x1="250" y1="430" x2="610" y2="200" stroke="#ef4444" stroke-width="2" stroke-dasharray="5,5"/>
                    
                    <!-- 화살표 마커 정의 -->
                    <defs>
                        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="#374151"/>
                        </marker>
                    </defs>
                </svg>
            </div>
        </section>

        <!-- 조립 -->
        <section id="assembly" class="section">
            <h2>🔧 조립</h2>
            
            <div class="alert alert-warning">
                <span class="alert-icon">⚠️</span>
                <div>
                    <strong>조립 전 확인사항</strong><br>
                    • 모든 3D 프린트 파트의 구멍 크기를 확인하세요<br>
                    • 볼트와 너트를 미리 분류해 두세요<br>
                    • 작업 공간을 충분히 확보하세요
                </div>
            </div>

            <h3>조립 순서</h3>
            <div class="card-grid">
                <div class="card">
                    <h4>1️⃣ 선형 레일 설치</h4>
                    <ul class="checklist">
                        <li><input type="checkbox"> 밑받침대에 좌우 레일을 고정합니다</li>
                        <li><input type="checkbox"> 상하 레일을 수직으로 조립합니다</li>
                        <li><input type="checkbox"> 레일 연결 브래킷으로 두 레일을 연결합니다</li>
                    </ul>
                    <div class="alert alert-info">
                        <span class="alert-icon">💡</span>
                        <div>레일의 움직임이 부드러운지 손으로 확인하세요</div>
                    </div>
                </div>
                
                <div class="card">
                    <h4>2️⃣ 모터 설치</h4>
                    <ul class="checklist">
                        <li><input type="checkbox"> 모터 듀얼 브래킷에 두 모터를 고정합니다</li>
                        <li><input type="checkbox"> 모터와 레일을 연결합니다</li>
                        <li><input type="checkbox"> 모터 회전 방향을 수동으로 확인합니다</li>
                    </ul>
                    <div class="alert alert-warning">
                        <span class="alert-icon">⚠️</span>
                        <div>모터 고정 시 과도한 힘을 가하지 마세요</div>
                    </div>
                </div>
                
                <div class="card">
                    <h4>3️⃣ 헤드 조립</h4>
                    <ul class="checklist">
                        <li><input type="checkbox"> 샤워 헤드를 상하 레일에 연결합니다</li>
                        <li><input type="checkbox"> 헤드가 좌우, 상하로 자유롭게 움직이는지 확인합니다</li>
                        <li><input type="checkbox"> 호스 연결부를 임시로 연결합니다</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h4>4️⃣ 솔레노이드 밸브 설치</h4>
                    <ul class="checklist">
                        <li><input type="checkbox"> 밸브의 화살표 방향을 확인합니다</li>
                        <li><input type="checkbox"> 입수부와 출수부 호스를 연결합니다</li>
                        <li><input type="checkbox"> 밸브를 안전한 위치에 고정합니다</li>
                    </ul>
                    <div class="alert alert-success">
                        <span class="alert-icon">✅</span>
                        <div>밸브 화살표는 물의 흐름 방향을 나타냅니다</div>
                    </div>
                </div>
                
                <div class="card">
                    <h4>5️⃣ 버튼 데크 설치</h4>
                    <ul class="checklist">
                        <li><input type="checkbox"> 5개 택트 버튼을 버튼 데크에 삽입합니다</li>
                        <li><input type="checkbox"> 각 버튼의 기능을 라벨로 표시합니다</li>
                        <li><input type="checkbox"> 버튼 데크를 사용자가 쉽게 접근할 수 있는 위치에 배치합니다</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h4>6️⃣ 최종 점검</h4>
                    <ul class="checklist">
                        <li><input type="checkbox"> 모든 볼트가 단단히 조여졌는지 확인합니다</li>
                        <li><input type="checkbox"> 움직이는 부품들이 서로 간섭하지 않는지 확인합니다</li>
                        <li><input type="checkbox"> 전선을 배선하기 전 마지막으로 조립 상태를 점검합니다</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- 배선 -->
        <section id="wiring" class="section">
            <h2>⚡ 배선</h2>
            
            <div class="alert alert-warning">
                <span class="alert-icon">⚠️</span>
                <div>
                    <strong>배선 필수 규칙</strong><br>
                    <strong>모든 GND(마이너스, 검은 선)는 반드시 공통으로 연결하세요!</strong><br>
                    라즈베리 파이, L298N, 릴레이, 전원공급장치의 GND를 모두 연결해야 합니다.
                </div>
            </div>

            <h3>🔘 버튼 연결 (내부 풀업 방식)</h3>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>기능</th>
                            <th>라즈베리 파이 GPIO (BCM)</th>
                            <th>버튼 연결</th>
                            <th>동작</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>좌측 이동</td>
                            <td>GPIO 5</td>
                            <td>한쪽: GPIO5, 다른쪽: GND</td>
                            <td>눌렀을 때 0(LOW)</td>
                        </tr>
                        <tr>
                            <td>우측 이동</td>
                            <td>GPIO 6</td>
                            <td>한쪽: GPIO6, 다른쪽: GND</td>
                            <td>눌렀을 때 0(LOW)</td>
                        </tr>
                        <tr>
                            <td>상향 이동</td>
                            <td>GPIO 13</td>
                            <td>한쪽: GPIO13, 다른쪽: GND</td>
                            <td>눌렀을 때 0(LOW)</td>
                        </tr>
                        <tr>
                            <td>하향 이동</td>
                            <td>GPIO 19</td>
                            <td>한쪽: GPIO19, 다른쪽: GND</td>
                            <td>눌렀을 때 0(LOW)</td>
                        </tr>
                        <tr>
                            <td>물 ON/OFF</td>
                            <td>GPIO 26</td>
                            <td>한쪽: GPIO26, 다른쪽: GND</td>
                            <td>짧게 눌러 토글</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3>⚙️ L298N 모터드라이버 연결</h3>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>L298N 핀</th>
                            <th>라즈베리 파이 GPIO (BCM)</th>
                            <th>기능</th>
                            <th>비고</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>IN1</td>
                            <td>GPIO 17</td>
                            <td>모터 A 방향1 (좌측)</td>
                            <td rowspan="4">좌우 모터 = A, 상하 모터 = B</td>
                        </tr>
                        <tr>
                            <td>IN2</td>
                            <td>GPIO 27</td>
                            <td>모터 A 방향2 (우측)</td>
                        </tr>
                        <tr>
                            <td>IN3</td>
                            <td>GPIO 23</td>
                            <td>모터 B 방향1 (상향)</td>
                        </tr>
                        <tr>
                            <td>IN4</td>
                            <td>GPIO 24</td>
                            <td>모터 B 방향2 (하향)</td>
                        </tr>
                        <tr>
                            <td>ENA</td>
                            <td>점퍼 연결</td>
                            <td>모터 A 속도 제어</td>
                            <td>점퍼로 최대 속도 고정</td>
                        </tr>
                        <tr>
                            <td>ENB</td>
                            <td>점퍼 연결</td>
                            <td>모터 B 속도 제어</td>
                            <td>점퍼로 최대 속도 고정</td>
                        </tr>
                        <tr>
                            <td>GND</td>
                            <td>라즈베리 파이 GND</td>
                            <td>공통 접지</td>
                            <td><strong>필수 연결!</strong></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3>🌊 솔레노이드 밸브 연결</h3>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>구성품</th>
                            <th>연결</th>
                            <th>비고</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>라즈베리 파이</td>
                            <td>GPIO 22 → 릴레이 신호핀</td>
                            <td>3.3V 출력으로 릴레이 제어</td>
                        </tr>
                        <tr>
                            <td>릴레이 VCC</td>
                            <td>라즈베리 파이 3.3V</td>
                            <td>릴레이 전원</td>
                        </tr>
                        <tr>
                            <td>릴레이 GND</td>
                            <td>공통 GND</td>
                            <td><strong>반드시 공통 연결!</strong></td>
                        </tr>
                        <tr>
                            <td>솔레노이드 밸브</td>
                            <td>릴레이 스위치 → 12V/24V 전원</td>
                            <td>릴레이로 전원 ON/OFF</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3>🔋 전원 연결</h3>
            <div class="card-grid">
                <div class="card">
                    <h4>12V/24V 전원부</h4>
                    <ul>
                        <li><strong>모터 전원:</strong> L298N의 VIN에 연결</li>
                        <li><strong>밸브 전원:</strong> 릴레이를 통해 솔레노이드에 연결</li>
                        <li><strong>GND:</strong> 반드시 공통 GND에 연결</li>
                    </ul>
                </div>
                <div class="card">
                    <h4>5V 전원부</h4>
                    <ul>
                        <li><strong>라즈베리 파이:</strong> USB-C 또는 GPIO 5V 핀</li>
                        <li><strong>릴레이 VCC:</strong> 3.3V 사용 (GPIO에서 공급)</li>
                        <li><strong>GND:</strong> 반드시 공통 GND에 연결</li>
                    </ul>
                </div>
            </div>

            <div class="code-block">
                <button class="copy-btn" onclick="copyToClipboard(this)">복사</button>
                <code># 배선 점검 명령어
# GPIO 상태 확인
gpio readall

# 또는 Python으로 개별 핀 확인
python3 -c "
import RPi.GPIO as GPIO
GPIO.setmode(GPIO.BCM)
GPIO.setup(5, GPIO.IN, pull_up_down=GPIO.PUD_UP)
print('GPIO5 상태:', GPIO.input(5))
GPIO.cleanup()
"</code>
            </div>
        </section>

        <!-- 소프트웨어 -->
        <section id="software" class="section">
            <h2>💻 소프트웨어 설치 및 실행</h2>
            
            <h3>🐍 라즈베리 파이 OS 설치</h3>
            <div class="card">
                <h4>1️⃣ OS 설치</h4>
                <div class="code-block">
                    <button class="copy-btn" onclick="copyToClipboard(this)">복사</button>
                    <code># Raspberry Pi Imager로 Raspberry Pi OS Lite 설치
# 또는 데스크톱 버전 설치 후 SSH 활성화</code>
                </div>
                <ul class="checklist">
                    <li><input type="checkbox"> Raspberry Pi Imager로 OS 이미지 굽기</li>
                    <li><input type="checkbox"> SSH 활성화 (고급 옵션에서 설정)</li>
                    <li><input type="checkbox"> Wi-Fi 설정 (필요시)</li>
                    <li><input type="checkbox"> 사용자명/비밀번호 설정</li>
                </ul>
            </div>

            <h3>🔧 시스템 준비</h3>
            <div class="code-block">
                <button class="copy-btn" onclick="copyToClipboard(this)">복사</button>
                <code># 1. 시스템 업데이트
sudo apt update && sudo apt upgrade -y

# 2. GPIO 라이브러리 설치
sudo apt install python3-rpi.gpio python3-pip -y

# 3. Git 설치 (코드 다운로드용)
sudo apt install git -y</code>
            </div>

            <h3>📁 제어 프로그램 파일</h3>
            <div class="alert alert-info">
                <span class="alert-icon">📄</span>
                <div>
                    <strong>별도 제출 파일</strong><br>
                    • <strong>blue_shower.py</strong> - 메인 제어 프로그램<br>
                    • <strong>blue-shower.service</strong> - 자동 실행 서비스 파일<br>
                    • <strong>install.sh</strong> - 설치 스크립트<br>
                    <small>(이 파일들은 별도 제출되는 소프트웨어 패키지에 포함됩니다)</small>
                </div>
            </div>

            <h3>🎮 프로그램 동작 방식</h3>
            <div class="card-grid">
                <div class="card">
                    <h4>🔘 버튼 제어 로직</h4>
                    <ul>
                        <li><strong>좌/우/상/하:</strong> 버튼을 누르고 있는 동안만 이동</li>
                        <li><strong>물 ON/OFF:</strong> 짧게 눌러서 토글 (켜기/끄기)</li>
                        <li><strong>디바운스:</strong> 0.05초 지연으로 오동작 방지</li>
                        <li><strong>안전 종료:</strong> Ctrl+C로 안전하게 프로그램 종료</li>
                    </ul>
                </div>
                <div class="card">
                    <h4>⚙️ 모터 제어 신호</h4>
                    <ul>
                        <li><strong>좌측:</strong> IN1=HIGH, IN2=LOW</li>
                        <li><strong>우측:</strong> IN1=LOW, IN2=HIGH</li>
                        <li><strong>상향:</strong> IN3=HIGH, IN4=LOW</li>
                        <li><strong>하향:</strong> IN3=LOW, IN4=HIGH</li>
                    </ul>
                </div>
                <div class="card">
                    <h4>🌊 밸브 제어 신호</h4>
                    <ul>
                        <li><strong>물 켜기:</strong> GPIO22 = HIGH (3.3V)</li>
                        <li><strong>물 끄기:</strong> GPIO22 = LOW (0V)</li>
                        <li><strong>토글 방식:</strong> 짧게 누를 때마다 상태 변경</li>
                        <li><strong>초기 상태:</strong> 물 OFF (안전)</li>
                    </ul>
                </div>
                <div class="card">
                    <h4>🔧 프로그램 기능</h4>
                    <ul>
                        <li><strong>GPIO 초기화:</strong> 풀업 저항 자동 설정</li>
                        <li><strong>실시간 모니터링:</strong> 50Hz 주기로 버튼 상태 확인</li>
                        <li><strong>에러 처리:</strong> 예외 상황 시 안전하게 정지</li>
                        <li><strong>상태 표시:</strong> 터미널에 현재 동작 상태 출력</li>
                    </ul>
                </div>
            </div>

            <h3>🚀 설치 및 실행 방법</h3>
            <div class="card">
                <h4>기본 실행</h4>
                <div class="code-block">
                    <button class="copy-btn" onclick="copyToClipboard(this)">복사</button>
                    <code># 1. 제출된 파일들을 라즈베리 파이로 복사
# 2. 실행 권한 부여
chmod +x blue_shower.py

# 3. 프로그램 실행 (관리자 권한 필요)
sudo python3 blue_shower.py</code>
                </div>
                
                <h4>자동 실행 설정</h4>
                <div class="code-block">
                    <button class="copy-btn" onclick="copyToClipboard(this)">복사</button>
                    <code># 설치 스크립트 실행
sudo chmod +x install.sh
sudo ./install.sh

# 또는 수동으로 서비스 설치
sudo cp blue-shower.service /etc/systemd/system/
sudo systemctl enable blue-shower.service
sudo systemctl start blue-shower.service</code>
                </div>

                <h4>서비스 상태 확인</h4>
                <div class="code-block">
                    <button class="copy-btn" onclick="copyToClipboard(this)">복사</button>
                    <code># 서비스 상태 확인
sudo systemctl status blue-shower.service

# 서비스 로그 확인
sudo journalctl -u blue-shower.service -f</code>
                </div>
            </div>

            <h3>✅ 실행 전 체크리스트</h3>
            <ul class="checklist">
                <li><input type="checkbox"> 모든 GPIO 핀이 정확히 연결되었는지 확인</li>
                <li><input type="checkbox"> 모든 GND가 공통으로 연결되었는지 확인</li>
                <li><input type="checkbox"> 12V 파워서플라이가 연결되었는지 확인</li>
                <li><input type="checkbox"> 라즈베리 파이 5V 전원이 안정적인지 확인</li>
                <li><input type="checkbox"> 제출된 파일들이 올바른 위치에 있는지 확인</li>
                <li><input type="checkbox"> sudo 권한으로 실행했는지 확인</li>
            </ul>

            <h3>📺 실행 화면 예시</h3>
            <div class="code-block">
                <code>🌟 Blue Shower v1.0 시작!
==================================================
🦶 발 버튼으로 제어하세요:
   ← → : 좌우 이동
   ↑ ↓ : 상하 이동 
   💧  : 물 ON/OFF
   Ctrl+C : 프로그램 종료
==================================================
🔧 GPIO 초기화 중...
✅ GPIO 설정 완료!
✅ 시스템 준비 완료! 발 버튼을 사용하세요.</code>
            </div>

            <div class="alert alert-success">
                <span class="alert-icon">🎉</span>
                <div>
                    <strong>실행 성공!</strong><br>
                    위와 같은 메시지가 나타나면 정상 실행된 것입니다.<br>
                    이제 발 버튼으로 샤워 헤드를 제어할 수 있습니다!
                </div>
            </div>
        </section>

        <!-- 동작 점검 -->
        <section id="testing" class="section">
            <h2>✅ 동작 점검</h2>
            
            <h3>🔧 단계별 테스트</h3>
            <div class="card-grid">
                <div class="card">
                    <h4>1️⃣ 버튼 반응 테스트</h4>
                    <ul class="checklist">
                        <li><input type="checkbox"> 좌측 버튼을 눌렀을 때 터미널에 반응 메시지 출력</li>
                        <li><input type="checkbox"> 우측 버튼을 눌렀을 때 터미널에 반응 메시지 출력</li>
                        <li><input type="checkbox"> 상향 버튼을 눌렀을 때 터미널에 반응 메시지 출력</li>
                        <li><input type="checkbox"> 하향 버튼을 눌렀을 때 터미널에 반응 메시지 출력</li>
                        <li><input type="checkbox"> 물 버튼을 눌렀을 때 터미널에 반응 메시지 출력</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h4>2️⃣ 모터 동작 테스트</h4>
                    <ul class="checklist">
                        <li><input type="checkbox"> 좌측 버튼 → 헤드가 왼쪽으로 이동</li>
                        <li><input type="checkbox"> 우측 버튼 → 헤드가 오른쪽으로 이동</li>
                        <li><input type="checkbox"> 상향 버튼 → 헤드가 위로 이동</li>
                        <li><input type="checkbox"> 하향 버튼 → 헤드가 아래로 이동</li>
                        <li><input type="checkbox"> 버튼을 놓으면 모터가 즉시 멈춤</li>
                    </ul>
                    <div class="alert alert-warning">
                        <span class="alert-icon">⚠️</span>
                        <div>방향이 반대면 모터 +/- 선을 바꾸거나 IN핀을 교체하세요</div>
                    </div>
                </div>
                
                    <h4>🌊 솔레노이드 밸브 테스트</h4>
                    <ul class="checklist">
                        <li><input type="checkbox"> 물 버튼을 짧게 누르면 밸브가 열림 (물이 나옴)</li>
                        <li><input type="checkbox"> 물 버튼을 다시 누르면 밸브가 닫힘 (물이 멈춤)</li>
                        <li><input type="checkbox"> 릴레이 동작 시 '딸깍' 소리가 남</li>
                        <li><input type="checkbox"> 연결부에서 물이 새지 않음</li>
                    </ul>
                    <div class="alert alert-success">
                        <span class="alert-icon">✅</span>
                        <div>완벽하게 작동합니다! 필요에 따라 추가 기능도 구현 가능해요</div>
                    </div>
                
                <div class="card">
                    <h4>4️⃣ 종합 동작 테스트</h4>
                    <ul class="checklist">
                        <li><input type="checkbox"> 물을 켠 상태에서 좌우 이동 테스트</li>
                        <li><input type="checkbox"> 물을 켠 상태에서 상하 이동 테스트</li>
                        <li><input type="checkbox"> 여러 버튼을 동시에 눌렀을 때도 정상 동작</li>
                        <li><input type="checkbox"> 장시간 사용 시에도 안정적 동작</li>
                    </ul>
                </div>
            </div>

            <h3>📊 문제 진단표</h3>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>현상</th>
                            <th>원인</th>
                            <th>해결방법</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>버튼 반응 없음</td>
                            <td>풀업 저항 미설정, 접지 불량</td>
                            <td>GPIO 풀업 설정 확인, GND 연결 점검</td>
                        </tr>
                        <tr>
                            <td>모터 움찔하고 멈춤</td>
                            <td>L298N-라즈베리파이 GND 미연결</td>
                            <td>공통 GND 연결 확인</td>
                        </tr>
                        <tr>
                            <td>모터 전혀 안 움직임</td>
                            <td>전원 부족, IN핀 연결 오류</td>
                            <td>12V/24V 전원 확인, IN1~4 재배선</td>
                        </tr>
                        <tr>
                            <td>모터 방향 반대</td>
                            <td>모터 극성 또는 IN핀 순서 오류</td>
                            <td>모터 +/- 교체 또는 IN핀 교체</td>
                        </tr>
                        <tr>
                            <td>밸브 동작 안 함</td>
                            <td>릴레이 전압 불호환, 배선 오류</td>
                            <td>3.3V 트리거 릴레이 사용 확인</td>
                        </tr>
                        <tr>
                            <td>누수 발생</td>
                            <td>밸브 방향 오류, 테프론 부족</td>
                            <td>밸브 화살표 방향 확인, 테프론 재시공</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- 문제 해결 FAQ -->
        <section id="troubleshooting" class="section">
            <h2>🔧 문제 해결 FAQ</h2>
            
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">
                    <span>❓ 버튼을 눌러도 반응이 없어요</span>
                    <span class="faq-toggle">▼</span>
                </div>
                <div class="faq-answer">
                    <p><strong>확인사항:</strong></p>
                    <ul>
                        <li>GPIO 풀업 저항이 설정되었는지 확인 (코드에서 <code>GPIO.PUD_UP</code>)</li>
                        <li>버튼의 한쪽이 GPIO 핀에, 다른 쪽이 GND에 연결되었는지 확인</li>
                        <li>버튼이 물리적으로 고장나지 않았는지 멀티미터로 연속성 테스트</li>
                        <li>라즈베리 파이가 정상 부팅되었는지 확인</li>
                    </ul>
                    <p><strong>해결방법:</strong> <code>gpio readall</code> 명령어로 GPIO 상태를 확인하세요.</p>
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">
                    <span>❓ 모터가 움찔하고 멈춰요</span>
                    <span class="faq-toggle">▼</span>
                </div>
                <div class="faq-answer">
                    <p><strong>주요 원인:</strong></p>
                    <ul>
                        <li>라즈베리 파이와 L298N의 GND가 연결되지 않음</li>
                        <li>모터 전원이 부족함 (12V 이하)</li>
                        <li>L298N 모듈 자체의 불량</li>
                    </ul>
                    <p><strong>해결방법:</strong></p>
                    <ul>
                        <li><strong>가장 중요:</strong> 모든 GND를 공통으로 연결하세요</li>
                        <li>모터 전원을 12V 이상으로 확인하세요</li>
                        <li>멀티미터로 L298N의 출력 전압을 측정해보세요</li>
                    </ul>
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">
                    <span>❓ 솔레노이드 밸브가 작동하지 않아요</span>
                    <span class="faq-toggle">▼</span>
                </div>
                <div class="faq-answer">
                    <p><strong>확인사항:</strong></p>
                    <ul>
                        <li>릴레이가 3.3V 트리거를 지원하는지 확인 (5V 전용 릴레이는 작동 안 됨)</li>
                        <li>릴레이의 '딸깍' 소리가 나는지 확인</li>
                        <li>솔레노이드 밸브에 12V/24V가 공급되는지 확인</li>
                        <li>밸브의 화살표 방향이 물 흐름과 일치하는지 확인</li>
                    </ul>
                    <p><strong>대안:</strong> 릴레이 대신 MOSFET 모듈 사용도 가능합니다.</p>
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">
                    <span>❓ 모터 방향이 반대예요</span>
                    <span class="faq-toggle">▼</span>
                </div>
                <div class="faq-answer">
                    <p><strong>해결방법 (둘 중 하나 선택):</strong></p>
                    <ul>
                        <li><strong>방법 1:</strong> 모터의 +/- 선을 서로 바꿔 연결</li>
                        <li><strong>방법 2:</strong> L298N의 IN핀 연결을 바꿈 (예: IN1↔IN2 교체)</li>
                    </ul>
                    <p>좌우 모터와 상하 모터를 각각 독립적으로 수정 가능합니다.</p>
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">
                    <span>❓ 물이 새고 있어요</span>
                    <span class="faq-toggle">▼</span>
                </div>
                <div class="faq-answer">
                    <p><strong>점검사항:</strong></p>
                    <ul>
                        <li>솔레노이드 밸브의 화살표 방향이 올바른지 확인</li>
                        <li>호스 연결부에 테프론 테이프를 충분히 감았는지 확인</li>
                        <li>호스 클램프가 단단히 조여졌는지 확인</li>
                        <li>밸브 자체의 씰링이 손상되지 않았는지 확인</li>
                    </ul>
                    <p><strong>응급처치:</strong> 누수 부위에 방수테이프를 임시로 감아주세요.</p>
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">
                    <span>❓ 3D 프린트 파트가 맞지 않아요</span>
                    <span class="faq-toggle">▼</span>
                </div>
                <div class="faq-answer">
                    <p><strong>일반적인 문제:</strong></p>
                    <ul>
                        <li>나사 구멍이 너무 작음 → 드릴로 구멍을 약간 넓히세요</li>
                        <li>파트가 너무 거침 → 사포로 표면을 다듬어주세요</li>
                        <li>치수가 맞지 않음 → 프린터 캘리브레이션을 확인하세요</li>
                    </ul>
                    <p><strong>권장 나사:</strong> M3 (직경 3mm) 또는 M4 (직경 4mm) 사용</p>
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">
                    <span>❓ 전력이 부족한 것 같아요</span>
                    <span class="faq-toggle">▼</span>
                </div>
                <div class="faq-answer">
                    <p><strong>전력 요구사항:</strong></p>
                    <ul>
                        <li>라즈베리 파이: 5V 3A (USB-C 어댑터)</li>
                        <li>모터 2개: 12V 또는 24V, 총 2~3A</li>
                        <li>솔레노이드 밸브: 12V/24V 1A</li>
                    </ul>
                    <p><strong>해결방법:</strong> 모터와 밸브용 별도 전원공급장치(12V 5A 이상) 사용을 권장합니다.</p>
                </div>
            </div>
        </section>

        <!-- 안전 고지 -->
        <section id="safety" class="section">
            <h2>⚠️ 안전 고지</h2>
            
            <div class="alert alert-info">
                <span class="alert-icon">💡</span>
                <div>
                    <strong>사용자 안전 가이드</strong><br><br>
                    
                    <strong>• 보조기기로서 일상을 더 편리하게</strong><br>
                    손 사용이 어려운 분들을 위한 맞춤형 샤워 보조기기입니다.<br><br>
                    
                    <strong>• 전자부품 보호</strong><br>
                    전자부품은 물이 닿지 않는 안전한 위치에 설치해 주세요.<br><br>
                    
                    <strong>• 적절한 온도 사용</strong><br>
                    편안한 온도로 조절해서 사용하시면 됩니다.<br><br>
                    
                    <strong>• 미끄럼 방지</strong><br>
                    바닥에 매트를 깔아 안전하게 사용하세요.<br><br>
                    
                    <strong>• 가족과 함께</strong><br>
                    처음 사용할 때는 가족이나 보호자와 함께 하시면 더 안전합니다.<br><br>
                    
                    <strong>• 점검과 유지보수</strong><br>
                    정기적으로 연결 상태를 확인하고 깨끗하게 관리해 주세요.
                </div>
            </div>

            <h3>✨ 안전하고 즐거운 사용을 위한 체크포인트</h3>
            <ul class="checklist">
                <li><input type="checkbox"> 사용 전 모든 전선 연결 상태 점검</li>
                <li><input type="checkbox"> 전자부품이 물에 닿지 않는 안전한 위치에 설치</li>
                <li><input type="checkbox"> 적절하고 편안한 온도의 물 사용</li>
                <li><input type="checkbox"> 바닥에 미끄럼 방지 매트 설치</li>
                <li><input type="checkbox"> 정기적인 연결부 점검 및 청소</li>
                <li><input type="checkbox"> 처음 사용시 가족이나 보호자와 함께</li>
                <li><input type="checkbox"> 문제 발생시 전원을 끄고 점검</li>
            </ul>

            <div class="alert alert-success">
                <span class="alert-icon">🎉</span>
                <div>
                    <strong>성공적인 제작을 축하합니다!</strong><br>
                    이제 여러분만의 맞춤형 보조기기가 완성되었습니다. 필요에 따라 자유롭게 개선하고, 다른 분들과도 경험을 나누어 보세요!
                </div>
            </div>
        </section>

        <!-- 제출물 목록 -->
        <section id="downloads" class="section">
            <h2>📁 프로젝트 파일 안내</h2>
            
            <div class="alert alert-info">
                <span class="alert-icon">💡</span>
                <div>
                    <strong>모든 파일은 위에 완전한 형태로 제공됩니다</strong><br>
                    이 매뉴얼에는 실행 가능한 모든 코드와 설명이 포함되어 있습니다.<br>
                    별도 다운로드 없이 복사-붙여넣기로 바로 사용하세요!
                </div>
            </div>

            <h3>📝 포함된 파일들</h3>
            <div class="card-grid">
                <div class="card">
                    <h4>🖨️ 3D 프린트 파일</h4>
                    <ul>
                        <li>버튼 데크 하우징 설계도</li>
                        <li>밑받침대 STL</li>
                        <li>모터 듀얼 브래킷 STL</li>
                        <li>레일 연결 브래킷 STL</li>
                    </ul>
                    <p><small>※ 3D 프린트 설정은 위의 가이드를 참조하세요</small></p>
                </div>
                
                <div class="card">
                    <h4>💻 소프트웨어</h4>
                    <ul>
                        <li><strong>blue_shower.py</strong> - 완전한 제어 프로그램</li>
                        <li>systemd 서비스 설정 파일</li>
                        <li>GPIO 핀 설정 및 제어 로직</li>
                        <li>자동 실행 스크립트</li>
                    </ul>
                    <p><small>※ 위의 소프트웨어 섹션에서 전체 코드 제공</small></p>
                </div>
                
                <div class="card">
                    <h4>⚡ 전자 설계</h4>
                    <ul>
                        <li>배선도 (위 시스템 구조도 참조)</li>
                        <li>GPIO 핀맵 테이블</li>
                        <li>부품 연결 가이드</li>
                        <li>납땜 작업 단계별 설명</li>
                    </ul>
                    <p><small>※ 배선 섹션에서 상세 정보 제공</small></p>
                </div>
                
                <div class="card">
                    <h4>📖 문서</h4>
                    <ul>
                        <li>이 통합 매뉴얼 (HTML)</li>
                        <li>빠른 시작 가이드</li>
                        <li>문제해결 FAQ</li>
                        <li>안전 사용 가이드</li>
                    </ul>
                    <p><small>※ 현재 보고 계신 이 페이지가 완전한 매뉴얼입니다</small></p>
                </div>
            </div>

            <h3>🎯 사용 방법</h3>
            <div class="card">
                <div class="alert alert-success">
                    <span class="alert-icon">🚀</span>
                    <div>
                        <strong>바로 시작하는 방법</strong><br>
                        1. 위의 준비물을 구매하세요<br>
                        2. 3D 프린트 가이드대로 부품을 출력하세요<br>
                        3. 버튼 제작 가이드를 따라 납땜하세요<br>
                        4. 배선도에 따라 연결하세요<br>
                        5. 소프트웨어 코드를 복사해서 실행하세요<br>
                        <strong>모든 것이 이 한 페이지에 들어있습니다!</strong>
                    </div>
                </div>
            </div>

            <h3>🔗 추가 자료</h3>
            <div class="card">
                <h4>🎬 참고 영상</h4>
                <ul>
                    <li><strong>YouTube:</strong> 발 버튼 DIY 제작법 (https://youtu.be/RYcLMILL-yw)</li>
                    <li>납땜 기초 튜토리얼 검색 권장</li>
                    <li>라즈베리 파이 GPIO 기초 영상 참고</li>
                </ul>
                
                <h4>🛒 부품 구매처</h4>
                <ul>
                    <li>라즈베리 파이: 공식 대리점, 전자부품 쇼핑몰</li>
                    <li>모터/센서: 아두이노 전문점, 온라인 쇼핑몰</li>
                    <li>3D 프린터: 지역 메이커스페이스, 3D 프린팅 서비스</li>
                </ul>
            </div>
        </section>

        <!-- 버전 및 라이선스 -->
        <section id="license" class="section">
            <h2>📄 버전 및 라이선스</h2>
            
            <div class="card-grid">
                <div class="card">
                    <h4>📟 버전 정보</h4>
                    <ul>
                        <li><strong>프로젝트:</strong> Blue Shower v1.0</li>
                        <li><strong>릴리즈:</strong> 2025.08</li>
                        <li><strong>개발:</strong> 국립재활원 오픈소스 프로젝트</li>
                        <li><strong>타겟:</strong> 보조기기 DIY 제작</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h4>⚖️ 라이선스 정보</h4>
                    <ul>
                        <li><strong>🔧 하드웨어 설계:</strong> CERN Open Hardware Licence Version 2 - Permissive (CERN-OHL-P)</li>
                        <li><strong>💻 소프트웨어:</strong> Apache License 2.0</li>
                        <li><strong>📖 문서:</strong> Creative Commons Attribution 4.0 International (CC BY 4.0)</li>
                    </ul>
                </div>
            </div>

            <div class="alert alert-success">
                <span class="alert-icon">✅</span>
                <div>
                    <strong>오픈소스 사용 권한</strong><br>
                    • 상업적, 비상업적 목적으로 자유롭게 사용 가능<br>
                    • 수정, 개선, 재배포 허용<br>
                    • 원저작자 표시 및 라이선스 고지 필요<br>
                    • 개선사항을 커뮤니티와 공유하는 것을 권장
                </div>
            </div>

                    <h4>🤝 기여 및 커뮤니티</h4>
                <p>이 프로젝트는 보조기기가 필요한 모든 분들을 위한 오픈소스 프로젝트입니다.</p>
                <ul>
                    <li>🌟 사용 후기 및 성공 사례 공유 환영</li>
                    <li>💡 창의적인 개선 아이디어 제안</li>
                    <li>🔧 기술적 질문 및 해결 방법 공유</li>
                    <li>🎓 교육 기관에서의 학습 프로젝트로 활용</li>
                    <li>👨‍👩‍👧‍👦 가족이나 친구들과 함께 제작해보기</li>
                    <li>🚀 다른 보조기기 아이디어로 확장하기</li>
                </ul>
                
                <div class="alert alert-success">
                    <span class="alert-icon">🎯</span>
                    <div>
                        <strong>여러분의 창의력을 발휘해보세요!</strong><br>
                        이 기본 설계를 바탕으로 더 많은 기능을 추가하거나, 다른 용도로 응용할 수 있습니다. 혁신은 작은 아이디어에서 시작됩니다!
                    </div>
                </div>
        </section>
    </main>

    <footer style="text-align: center; padding: 2rem 0; margin-top: 3rem; border-top: 2px solid var(--border-color); color: var(--text-color);">
        <p><strong>Blue Shower v1.0</strong> - 국립재활원 오픈소스 보조기기 프로젝트</p>
        <p>💧 누구나 쉽게 만들고, 안전하게 사용하며, 자유롭게 개선할 수 있는 보조기기 💧</p>
        <p>🌟 <strong>당신의 아이디어가 누군가의 일상을 더 편리하게 만듭니다</strong> 🌟</p>
    </footer>

    <script>
        // 다크모드 토글
        function toggleTheme() {
            const body = document.body;
            const currentTheme = body.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            body.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
        }

        // 고대비 모드 토글
        function toggleContrast() {
            const body = document.body;
            const currentContrast = body.getAttribute('data-contrast');
            const newContrast = currentContrast === 'high' ? 'normal' : 'high';
            body.setAttribute('data-contrast', newContrast);
            localStorage.setItem('contrast', newContrast);
        }

        // 글자 크기 조절
        function changeFontSize(change) {
            const root = document.documentElement;
            const currentSize = parseInt(getComputedStyle(root).getPropertyValue('--font-size'));
            const newSize = Math.max(12, Math.min(24, currentSize + change));
            root.style.setProperty('--font-size', newSize + 'px');
            localStorage.setItem('fontSize', newSize);
        }

        // 검색 기능
        function searchContent(query) {
            const sections = document.querySelectorAll('.section');
            const searchQuery = query.toLowerCase().trim();
            
            if (searchQuery === '') {
                sections.forEach(section => {
                    section.style.display = 'block';
                    // 하이라이트 제거
                    const highlights = section.querySelectorAll('.highlight');
                    highlights.forEach(highlight => {
                        const parent = highlight.parentNode;
                        parent.replaceChild(document.createTextNode(highlight.textContent), highlight);
                        parent.normalize();
                    });
                });
                return;
            }
            
            sections.forEach(section => {
                const text = section.textContent.toLowerCase();
                const shouldShow = text.includes(searchQuery);
                section.style.display = shouldShow ? 'block' : 'none';
                
                if (shouldShow) {
                    // 하이라이트 추가 (간단한 구현)
                    highlightText(section, searchQuery);
                }
            });
        }

        // 텍스트 하이라이트 (기본적인 구현)
        function highlightText(element, query) {
            const walker = document.createTreeWalker(
                element,
                NodeFilter.SHOW_TEXT,
                null,
                false
            );
            
            const textNodes = [];
            let node;
            while (node = walker.nextNode()) {
                if (node.nodeValue.toLowerCase().includes(query)) {
                    textNodes.push(node);
                }
            }
            
            textNodes.forEach(textNode => {
                const parent = textNode.parentNode;
                if (parent.tagName === 'SCRIPT' || parent.tagName === 'STYLE') return;
                
                const text = textNode.nodeValue;
                const regex = new RegExp(`(${query})`, 'gi');
                const highlighted = text.replace(regex, '<span class="highlight" style="background: yellow; color: black;">$1</span>');
                
                if (highlighted !== text) {
                    const span = document.createElement('span');
                    span.innerHTML = highlighted;
                    parent.replaceChild(span, textNode);
                }
            });
        }

        // FAQ 토글
        function toggleFaq(element) {
            const answer = element.nextElementSibling;
            const toggle = element.querySelector('.faq-toggle');
            
            answer.classList.toggle('active');
            toggle.classList.toggle('active');
            
            if (answer.classList.contains('active')) {
                toggle.textContent = '▲';
            } else {
                toggle.textContent = '▼';
            }
        }

        // 코드 복사 기능
        function copyToClipboard(button) {
            const codeBlock = button.nextElementSibling;
            const text = codeBlock.textContent;
            
            navigator.clipboard.writeText(text).then(() => {
                button.textContent = '복사됨!';
                setTimeout(() => {
                    button.textContent = '복사';
                }, 2000);
            }).catch(() => {
                // 폴백: 텍스트 선택
                const range = document.createRange();
                range.selectNode(codeBlock);
                window.getSelection().removeAllRanges();
                window.getSelection().addRange(range);
            });
        }

        // 부드러운 스크롤
        document.addEventListener('DOMContentLoaded', function() {
            // 앵커 링크 클릭 시 부드러운 스크롤
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });

            // 저장된 설정 불러오기
            const savedTheme = localStorage.getItem('theme');
            const savedContrast = localStorage.getItem('contrast');
            const savedFontSize = localStorage.getItem('fontSize');
            
            if (savedTheme) {
                document.body.setAttribute('data-theme', savedTheme);
            }
            if (savedContrast) {
                document.body.setAttribute('data-contrast', savedContrast);
            }
            if (savedFontSize) {
                document.documentElement.style.setProperty('--font-size', savedFontSize + 'px');
            }

            // 다운로드 버튼 클릭 이벤트 (실제 다운로드는 구현하지 않음)
            // 제거됨 - 더 이상 다운로드 버튼이 없음

            // 체크리스트 상태 저장
            document.querySelectorAll('.checklist input[type="checkbox"]').forEach((checkbox, index) => {
                const key = `checklist_${index}`;
                checkbox.checked = localStorage.getItem(key) === 'true';
                
                checkbox.addEventListener('change', function() {
                    localStorage.setItem(key, this.checked);
                });
            });
        });

        // 키보드 네비게이션 개선
        document.addEventListener('keydown', function(e) {
            // Alt + T: 다크모드 토글
            if (e.altKey && e.key === 't') {
                e.preventDefault();
                toggleTheme();
            }
            // Alt + C: 고대비 토글
            if (e.altKey && e.key === 'c') {
                e.preventDefault();
                toggleContrast();
            }
            // Alt + Plus: 글자 크게
            if (e.altKey && e.key === '+') {
                e.preventDefault();
                changeFontSize(2);
            }
            // Alt + Minus: 글자 작게
            if (e.altKey && e.key === '-') {
                e.preventDefault();
                changeFontSize(-2);
            }
            // Ctrl + F: 검색창에 포커스
            if (e.ctrlKey && e.key === 'f') {
                e.preventDefault();
                document.querySelector('.search-input').focus();
            }
        });

        // 인쇄 최적화
        window.addEventListener('beforeprint', function() {
            // 인쇄 시 FAQ 모두 열기
            document.querySelectorAll('.faq-answer').forEach(answer => {
                answer.style.display = 'block';
            });
        });

        window.addEventListener('afterprint', function() {
            // 인쇄 후 FAQ 상태 복원
            document.querySelectorAll('.faq-answer').forEach(answer => {
                if (!answer.classList.contains('active')) {
                    answer.style.display = 'none';
                }
            });
        });
    </script>
</body>
</html> 